<!--
  Generated template for the GamePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-header>
  <ion-toolbar no-border>

    <ion-item class="darkBackground">
      <ion-avatar tappable="true" (click)="goToUserSettings()" class="solidBorder miniAvatar" item-start>
        <img src="../../assets/avatar/{{user.avatar}}">
      </ion-avatar>
      <h3 padding-bottom>{{user.name}} @ {{room}}
      </h3>
      <div class="gameInfoRow">
        <div>
          <ion-badge>{{game.cardsPlayed}} / {{game.cardsPerGame}} ‚è∞</ion-badge>
        </div>

        <div>
          <ion-badge>{{user.sips}} x üç∫</ion-badge>
        </div>
      </div>
    </ion-item>

    <ion-buttons end>
      <button ion-button icon-only>
        <ion-icon name="more"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="darkBackground">


  <div *ngIf="!game.isOver">
    <wait-for-it padding-top class="fullWidth" *ngIf="(game.currentCard | json) == '{}'"></wait-for-it>
    <survey class="fullWidth" *ngIf="currentCardCategory === 'survey'">
    </survey>
    <guess class="fullWidth" *ngIf="currentCardCategory === 'guess'">
    </guess>

    <quiz class="fullWidth" *ngIf="currentCardCategory === 'quiz'"></quiz>

    <challenge class="fullWidth" *ngIf="currentCardCategory === 'challenge'"></challenge>

  </div>

  <game-over *ngIf="game.isOver">

  </game-over>

</ion-content>

<ion-footer *ngIf="user.socketId === game.admin.socketId" no-border>
  <ion-card class="rounded">
    <admin-controls></admin-controls>
  </ion-card>
</ion-footer>
